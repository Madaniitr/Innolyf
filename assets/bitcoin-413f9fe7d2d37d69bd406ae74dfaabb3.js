(function(){"use strict";Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return typeof t=="function"||e.call(t)==="[object Function]"},n=function(e){var t=Number(e);return isNaN(t)?0:t===0||!isFinite(t)?t:(t>0?1:-1)*Math.floor(Math.abs(t))},r=Math.pow(2,53)-1,i=function(e){var t=n(e);return Math.min(Math.max(t,0),r)};return function(n){var r=this,s=Object(n);if(n==null)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o=arguments.length>1?arguments[1]:void undefined,u;if(typeof o!="undefined"){if(!t(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(u=arguments[2])}var a=i(s.length),f=t(r)?Object(new r(a)):new Array(a),l=0,c;while(l<a)c=s[l],o?f[l]=typeof u=="undefined"?o(c,l):o.call(u,c,l):f[l]=c,l+=1;return f.length=a,f}}());var e=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})},t=function(e){return Array.isArray(e)?e:Array.from(e)},n=function(e){var t=[],n=0,r=e.length;for(var i=0;i<r;i++){var s=e[i],o=!1;for(var u=0;u<n;u++){if(s!==t[u])continue;o=!0;break}if(o)continue;t[n++]=s}return t},r=function(e){return Array.apply(0,Array(e))};document.documentElement.classList.add("js");var i=function(){var e;for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=[]).concat.apply(e,t(r))},s=function(e){return e.reduce(function(e,t){return e.concat(t)})},o=function(e){return e[0]},u=function(e){return e.slice(0,-1)},a=function(e){return e.slice(-1)[0]},f=function(e){return e.slice(1)},l=function(e){return e?Array.isArray(e)?e:e.nodeType?[e]:[].concat(t(e)):[]},c=function(){var e=Object.assign?Object.assign:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){return Object.keys(t).forEach(function(n){return e[n]=t[n]})}),e};return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(undefined,[{}].concat(t(r)))}}(),h=function(e,t){return Math.floor(Math.random()*(t-e))+e},p=function(e){return e!=undefined},d=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.forEach(function(e){var n;return(n=e.classList).add.apply(n,t(r))}),e},v=function(e,t){return C(s(e.map(function(e){return l(e.children)})),t)},m=function(e,t){return Object.keys(t).forEach(function(n){return e.forEach(function(e){return e.style[n]=t[n]})})},g=function(e){return e.forEach(function(e){while(e.lastChild)e.removeChild(e.lastChild)}),e},y=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.some(function(e){return n.every(function(t){return e.classList.contains(t)})})},b=function(e,t){return Array.isArray(e)?e.some(function(e){return e.matches(t)}):e.matches(t)},w=function(){var e=function(e){return l(e.parentElement.children).filter(function(t,n,r){return n>r.indexOf(e)})};return function(t,r){return C(n(s(t.map(function(t){return e(t)}))),r)}}(),E=function(e,t,n){return e.forEach(function(e){return e.addEventListener(t,n)})},S=function(e){return document.addEventListener("DOMContentLoaded",e)},x=function(e,t){return C(e,t).forEach(function(e){if(!e.parentElement)return;e.parentElement.removeChild(e)})},T=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.forEach(function(e){var n;return(n=e.classList).remove.apply(n,t(r))}),e},N=function(){var e=function(e){return/^[\#.]?[\w-]+$/.test(e)},t=function(t,n){return e(t)?o(t)=="."?n.getElementsByClassName(f(t)):o(t)=="#"?n.getElementById(f(t)):n.getElementsByTagName(t):n.querySelectorAll(t)};return function(e){var n=arguments[1]===undefined?document:arguments[1];return l(t(e,n))}}(),C=function(e,t){return p(t)?e.filter(function(e){return b(e,t)}):e},k=function(e,t){return p(t)?(e.forEach(function(e){return e.textContent=t}),e):e.map(function(e){return e.textContent})},L=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.forEach(function(e){var n;return(n=e.classList).toggle.apply(n,t(r))}),e},A=function(){var e=arguments[0]===undefined?0:arguments[0];return"rgba(255, 255, 255, "+e+")"},O={easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeOutBack:"cubic-bezier(.19,1,0,1.08)",easeInBack:"cubic-bezier(1,-.1,.8,.05)"},M=function(e,t,n,r){var i=function(e){var s=arguments[1]===undefined?1:arguments[1];k(t,e.slice(0,s)),r&&(o(t).appendChild(o(r)),m(r,{position:"static",display:"inline-block","vertical-align":"middle",margin:0})),e[s]?setTimeout(function(){return requestAnimationFrame(function(){return i(e,s+1)})},h(50,120)):n()};requestAnimationFrame(function(){return i(e)})},_=function(e){return e.innerHTML=e.textContent.split("").map(function(e){return"<span class=letter>"+e+"</span>"}).join("")},D=function(e){return e.forEach(function(e,t){return animate({el:e,duration:1e3,delay:t*12,opacity:1,easing:O.easeInOutCubic})})};S(function(){var t=function(){var e={};return["animation","transform"].forEach(function(t){return e[t]=t in document.body.style?t:"-webkit-"+t}),e}(),n=N("#bitcoin-logo"),s=w(n),l=N("#info"),p=v(l);m(i(n,s,l,p),{opacity:0}),m(i(s,p),e({},t.transform,"translateY(40px) scale(.92)")),m(l,e({},t.transform,"translateY(50%)"));var b=function(e,t,n){return animate({el:e,opacity:1,scale:1,duration:800,delay:t*100,easing:O.easeOutCubic,complete:function(){if(n[t+1])return;C()}})},S=function(){return m(n,e({opacity:1},t.animation,"none"))},C=function(){animate({el:s,opacity:0,scale:.92,translateY:40,delay:1200,complete:function(){if(this.nodeName.toLowerCase()=="p")return;z()}})};E(n,/-/.test(t.animation)?"webkitAnimationEnd":"animationend",function(){i(s,l,p).forEach(b),S()});var P=N("#checkout"),H=v(N("#step2 .slide-info")),B=N("#checkout .email-input"),j=N("#checkout .payment-method-tabs"),F=N("#checkout .bitcoin-content"),I=N("#checkout .bitcoin-success"),q=N("#bitcoin-wallet"),R=N("#main-header .inner-col");H.forEach(_);var U=v(H);m(i(P,U,F,I,q),{opacity:0}),m(P,e({},t.transform,"translateY(1000px) scale(.05)")),m(F,e({},t.transform,"translateX(100%)")),m(q,e({},t.transform,"translate(-270px, 170px) scale(.1)")),m(I,e({},t.transform,"perspective(800px) translateY(90px) rotateX(-120deg)"));var z=function(){W(),X(),V()},W=function(){return animate({el:n,translateY:-147,duration:750,delay:350,easing:O.easeOutCubic})},X=function(){return animate({el:P,translateY:0,opacity:1,duration:1400,easing:O.easeOutExpo,complete:$})},V=function(){return D(U)},$=function(){return setTimeout(function(){T(g(B),"empty"),M("ben@stripe.com",B,K)},1800)},J=function(e,t){return animate({el:"#checkout .card-details",translateX:"-100%",duration:e,opacity:0,easing:t})},K=function(){var e=650,t=O.easeInOutCubic;setTimeout(function(){T(B,"focus"),d(j,"bitcoin"),J(e,t),animate({el:F,translateX:0,opacity:1,duration:e,easing:t,complete:Y})},600)},Q=function(e){m(e,{"background-position":"50% 100%"}),setTimeout(function(){m(e,{"background-position":"50% 0"})},300)},G=function(){return setTimeout(function(){m(R,{transition:"border-bottom-color .2s","border-bottom-color":A()}),d(n,"fadeout"),animate({el:P,opacity:.35,duration:800})},300)},Y=function(){return setTimeout(function(){Q(F),G(),animate({el:q,opacity:1,scale:1,easing:O.easeOutBack,delay:400,duration:600,complete:Z})},1e3)},Z=function(){return setTimeout(function(){Q(q),animate({el:q,opacity:0,translateY:500,scale:.2,easing:O.easeInBack,duration:800,delay:400}),et()},700)},et=function(){return setTimeout(function(){T(n,"fadeout"),animate({el:P,opacity:1,duration:800,complete:function(){tt(),m(R,{"border-bottom-color":A(.05)})}})},900)},tt=function(){var r=600;m(P,e({transition:""+r+"ms "+O.easeOutCubic,height:"360px"},t.transform,"translateY(40px)")),animate({el:n,translateY:-107,easing:O.easeOutCubic,duration:r}),animate({el:F,perspective:800,translateY:-60,rotateX:60,opacity:0,duration:r,easing:O.easeInOutCubic}),animate({el:I,opacity:1,translateY:0,duration:r,complete:ct})},nt=v(N("#step3 .slide-info"));nt.forEach(_);var rt=v(nt),it=v(N("#traffic-lights")),st=N("#line-selection"),ot=N("#cursor"),ut=v(N("#vim-editor")),at=v(N("#vim-empty-lines")),ft=N("#vim-chrome"),lt=i(it,st,ot,ut,at,ft);m(i(rt,lt),{opacity:0}),m(lt,e({},t.transform,"scale(.5)"));var ct=function(){var e=1200;animate({el:"#checkout .header",opacity:0,duration:1200,translateY:"-100%",easing:O.easeInOutCubic,delay:e}),i(n,B,j,I).forEach(function(t,n){return animate({el:t,opacity:0,translateY:40,scale:.2,duration:600,easing:O.easeInBack,delay:n*200+e,complete:function(){if(n!=1)return;ht(),pt(),dt()}})})},ht=function(){var e=12,t={duration:1e3,opacity:0,easing:O.easeInOutCubic};u(U).forEach(function(n,r){return animate(c(t,{el:n,delay:r*e}))}),animate(c(t,{el:a(U),delay:(U.length-1)*e,complete:function(){x(H)}})),setTimeout(function(){return D(rt)},400)},pt=function(){setTimeout(function(){return m(P,{width:"548px","box-shadow":"0 4px 12px rgba(0,31,38,.8), inset 0 1px 0 rgba(0,111,132,.15)",background:"#003C49"})},900)},dt=function(){return lt.forEach(function(e,t,n){return animate({el:e,opacity:1,scale:1,easing:O.easeOutBack,delay:t*50+2200,duration:1e3,complete:function(){if(n[t+1])return;mt()}})})},vt=function(e){T(e,"hidden"),setTimeout(function(){return d(e,"hidden")},100)},mt=function(){var e=o(ut).getBoundingClientRect().height,t=function(n){var r=arguments[1]===undefined?1:arguments[1];if(r>4)return gt();m(i(st,ot),{"margin-top":r*e+"px"}),vt(N("#vim-keypress :first-child")),setTimeout(function(){return requestAnimationFrame(function(){return t(n,r+1)})},200)};setTimeout(function(){return requestAnimationFrame(t)},1e3)},gt=function(){var e=document.createElement("li"),t=function(){var t=N("#vim-mode"),n=N("#vim-file-info");y(t,"hidden")||(e.insertAdjacentHTML("beforeend",'"'),e.appendChild(o(ot)),k(n,'"checkout.html" 8L, 207C written'),vt(N("#vim-keypress :last-child")),yt()),L(i(n,t),"hidden")},n=function(){var n=document.createElement("span");n.className="val",e.appendChild(n),M("true",[n],t,ot)};x(at.slice(-1)),ut[4].parentNode.insertBefore(e,ut[4]),t(),setTimeout(function(){return M('data-bitcoin="',[e],n,ot)},400)},yt=function(){i(it,N("#vim li"),ft).reverse().forEach(function(e,t){return animate({el:e,delay:t*40+1600,translateY:200,opacity:0,easing:O.easeInOutCubic,scale:.9,duration:1e3})});var e={opacity:0,duration:800,delay:2e3};animate(c(e,{el:i(nt,st)})),animate(c(e,{el:P,complete:function(){x(nt),jt()}}))},bt=v(N("#step4")),wt=o(bt),Et=f(bt);m(bt,{opacity:0});var St=function(){return m(n,{transition:"none"})},xt=function(){return o(N("#step4")).insertBefore(o(n),o(Et))},Tt=function(){return m(N("#step4 a"),{"pointer-events":"auto"})},Nt=function(n){return m(n,e({},t.transform,"perspective(800px) rotateY(90deg) scale(.2)"))},Ct=r(10).map(function(e,t){return t.toString()}),kt=function(){var e=r(26).map(function(e,t){return String.fromCharCode(t+65)});return e.concat(e.map(function(e){return e.toLowerCase()}))}(),Lt=Ct.concat(kt),At=function(e){return e[h(0,e.length)]},Ot=function(e,t){return r(t-1).reduce(function(t,n){return t+At(e)},At(e))},Mt=function(){return Ot(Lt,30)},_t=function(){return""+At(Ct)+"."+Ot(Ct,8)+" BTC"},Dt=function(){var e={width:220,height:50};return function(){return Math.floor(window.innerWidth/e.width)*Math.floor(wt.getBoundingClientRect().height/e.height)}}(),Pt=function(){var e=function(t,n){if(!n)return;var r=document.createElement("p");r.className="transaction",r.insertAdjacentHTML("beforeend","<strong>"+Mt()+"</strong> <span>"+_t()+"</span>"),t.appendChild(r),e(t,n-1)};return function(t,n){var r=document.createDocumentFragment();e(r,n),t.innerHTML="",t.appendChild(r)}}(),Ht=function(e,n,r){r&&(e.parentElement.style[t.animation]="highlightTransaction 3s");var i=function(s){var o=arguments[1]===undefined?0:arguments[1],u=n.slice(o,o+1);if(!u){r||(e.parentElement.style[t.animation]="none");return}var a=e.textContent;e.textContent=a.slice(0,o)+u+a.slice(o+1),setTimeout(function(){return requestAnimationFrame(function(){return i(s,o+1)})},100)};requestAnimationFrame(i)},Bt=function(){var e=N(".transaction"),t=e[h(0,e.length)];Ht(t.firstChild,Mt(),!0),setTimeout(function(){return Ht(t.lastChild,_t())},500),setTimeout(function(){return requestAnimationFrame(Bt)},h(10,1e3))},jt=function(){St(),xt(),Tt();var e=i(n,Et);Nt(e),setTimeout(function(){return e.forEach(function(e,t){return animate({el:e,opacity:1,scale:1,delay:t*140,duration:1400,easing:O.easeOutBack})})},400),Pt(wt,Dt()),window.addEventListener("resize",function(){return Pt(wt,Dt())}),requestAnimationFrame(Bt),animate({el:wt,opacity:1,duration:3e3})},Ft=function(){return devicePixelRatio>2?"@3x":devicePixelRatio>1?"@2x":""}(),It=function(){m(N("#main-content"),{visibility:"visible"}),m(n,e({},t.animation,"bitcoin-logo 2s linear forwards"))},qt=new Image;qt.src="img/bitcoin/bitcoin-logo"+Ft+".png",qt.complete?It():qt.addEventListener("load",It)})})();