var animate=function(){var e=function(e){var t=e.length;return function n(){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length<t?function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,i.concat(t))}:e.apply(void 0,i)}},t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},n=function(e){return function(){return!e.apply(void 0,arguments)}},r={linear:function(e,t,n,r){return t+e/r*n},easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeInExpo:function(e,t,n,r){return 0==e?t:n*Math.pow(2,10*(e/r-1))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeInElastic:function(e,t,n,r){var i=4>=arguments.length||void 0===arguments[4]?500:arguments[4];if(0==e)return t;if(1==(e/=r))return t+n;var i=r*(1-Math.min(i,999)/1e3),s=n<Math.abs(n)?i/4:i/(2*Math.PI)*Math.asin(n/n);return-(n*Math.pow(2,10*--e)*Math.sin(2*(e*r-s)*Math.PI/i))+t},easeInBack:function(e,t,n,r){return n*(e/=r)*e*(2.70158*e-1.70158)+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeOutExpo:function(e,t,n,r){return e==r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeOutElastic:function(e,t,n,r){var i=4>=arguments.length||void 0===arguments[4]?500:arguments[4];return 0==e?t:1==(e/=r)?t+n:(i=r*(1-Math.min(i,999)/1e3),n*Math.pow(2,-10*e)*Math.sin(2*(e*r-(n<Math.abs(n)?i/4:i/(2*Math.PI)*Math.asin(n/n)))*Math.PI/i)+n+t)},easeOutBack:function(e,t,n,r){return n*((e=e/r-1)*e*(2.70158*e+1.70158)+1)+t},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?7.5625*n*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutQuad:function(e,t,n,r){return 1>(e/=r/2)?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInOutCubic:function(e,t,n,r){return 1>(e/=r/2)?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInOutQuart:function(e,t,n,r){return 1>(e/=r/2)?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInOutQuint:function(e,t,n,r){return 1>(e/=r/2)?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInOutExpo:function(e,t,n,r){return 0==e?t:e==r?t+n:1>(e/=r/2)?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInOutCirc:function(e,t,n,r){return 1>(e/=r/2)?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInOutElastic:function(e,t,n,r){var i=4>=arguments.length||void 0===arguments[4]?500:arguments[4];if(0==e)return t;if(2==(e/=r/2))return t+n;var i=r*(1-Math.min(i,999)/1e3)*1.5,s=n<Math.abs(n)?i/4:i/(2*Math.PI)*Math.asin(n/n);return 1>e?-0.5*n*Math.pow(2,10*--e)*Math.sin(2*(e*r-s)*Math.PI/i)+t:n*Math.pow(2,-10*--e)*Math.sin(2*(e*r-s)*Math.PI/i)*.5+n+t},easeInOutBack:function(e,t,n,r){var i=1.70158;return 1>(e/=r/2)?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t}},i=function(e){return e[0]},s=function(e){return e.reduce(function(e,t){return e.concat(t)})},o=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:function(e,t){return e.some(function(e){return e===t})}}(),u=function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var u=s(r);return e.filter(function(e){return n(o)(u,e)})},a=function(){var e=function(e){var t=new Map;return Object.keys(e).forEach(function(n){return t.set(n,e[n])}),t};return function(t){return t instanceof Map?t:e(t)}}(),f=function(e){return/^#/.test(e)},l=function(e){return/^rgb/.test(e)},c=function(){var e=function(e){return 7>e.length?e.split("").reduce(function(e,t){return e+t+t}):e},n=function(e){return e.match(/[\d\w]{2}/g).map(function(e){return parseInt(e,16)})};return function(r){return l(r)?r:(r=t(e,n)(r),"rgb("+r[0]+", "+r[1]+", "+r[2]+")")}}(),h=function(e){return p("string"==typeof e?document.querySelectorAll(e):e)},p=function(){var e=[NodeList,HTMLCollection,Set];return function(t){return Array.isArray(t)?t:e.some(function(e){return t instanceof e})?Array.from(t):t.nodeType?[t]:t.get()}}(),d=new Map;"el delay begin complete loop direction".split(" ").forEach(function(e){return d.set(e,null)}),d.set("duration",1e3),d.set("easing","easeOutElastic");var v=function(){var e=Array.from(d.keys()).filter(function(e){return d.get(e)}),t=function(t){return e.every(function(e){return t.has(e)})},n=function(t){var n=new Map(t);return e.forEach(function(e){n.has(e)||n.set(e,d.get(e))}),n};return function(e){return t(e)?e:n(e)}}(),m=function(){var t=e(function(e,t){return Array.isArray(e.get(t))}),r=function(e){return x(e).every(t(e))},i=function(e){return x(e).filter(n(t(e)))};return function(e){if(r(e))return e;var t=new Map(e);return i(t).forEach(function(e){return t.set(e,[C.get(e),t.get(e)])}),t}}(),g=function(){var t=function(e){return/\D$/.test(e)},n=e(function(e,n){return t(n)||/scale/.test(e)?n:/rotate|skew/.test(e)?n+"deg":n+"px"}),r=function(e,n){return n.every(function(n){return e.get(n).every(t)})};return function(e){var t=x(e).filter(k);if(r(e,t))return e;var i=new Map(e);return t.forEach(function(t){return i.set(t,e.get(t).map(n(t)))}),i}}(),y=function(){var t=e(function(e,t){return e.get(t).some(f)}),n=function(e){return!T(e).some(t(e))},r=function(e){return T(e).filter(t(e))};return function(e){if(n(e))return e;var t=new Map(e);return r(e).forEach(function(e){return t.set(e,t.get(e).map(c))}),t}}(),b=function(e){var t=new Map(e);return E(e).forEach(function(e){return t.set(e,t.get(e).slice().reverse())}),t},w=t(a,v,m,g,y,function(e){return(new Map(e)).set("el",h(e.get("el")))},function(e){return"reverse"==e.get("direction")?b(e):e}),E=function(){var e=Array.from(d.keys()),t=function(t){return n(o)(e,t)};return function(e){return Array.from(e.keys()).filter(t)}}(),S=function(){var n=t(i,l),r=e(function(e,t){var r=e.get(t).map(O),i=r[0],s=r[1],r=new Map;return r.set("prop",t),r.set("from",i),r.set("to",s),r.set("isTransformFunction",k(t)),r.set("isColor",n(e.get(t))),/\d$/.test(e.get("easing"))?(i=e.get("easing").split(" "),s=i[1],r.set("easing",i[0]),r.set("frequency",s)):r.set("easing",e.get("easing")),r});return function(e,t){return E(e).map(r(e))}}(),x=function(){var e=function(e){return o(N,e)};return function(t){return Array.from(t.keys()).filter(e)}}(),T=function(e){return u(E(e),x(e))},N="opacity translateX translateY scale rotate scaleX scaleY rotateX rotateY perspective skewX skewY translateZ rotateZ scaleZ".split(" "),C=new Map;(function(){var e=["opacity","scale","scaleX","scaleY"];N.forEach(function(t){return C.set(t,o(e,t)?1:0)})})();var k=function(){var e=N.filter(function(e){return"opacity"!=e});return function(t){return o(e,t)}}(),L=function(e){var t=x(e);if(t.length){var n=[];t.some(k)&&n.push("transform"),o(t,"opacity")&&n.push("opacity");var r=n.join();e.get("el").forEach(function(e){e.style.willChange||(e.style.willChange=r)})}},A=function(e,t){return t.reduce(function(t,n,r){return t+e[r-1]+n})},O=function(){var e=/-?\d*\.?\d+/g;return function(t){var n=new Map;return n.set("digits",("string"==typeof t?t:String(t)).match(e).map(Number)),n.set("others",("string"==typeof t?t:String(t)).split(e)),n}}(),M=e(function(e,t,n){var i=n.get("to").get("digits").map(function(i,s){var o=n.get("from").get("digits")[s];if(o==i)return o;var u=i-o,o=r[n.get("easing")](t,o,u,e.get("duration"),n.get("frequency"));return n.get("isColor")?Math.round(o):o});return A(i,n.get("to").get("others"))}),_=e(function(e,t){var n=e.get(t.get("prop"));return i(n.slice(-1))}),D=e(function(e,t,n){var r=void 0;e.forEach(function(e,i){e.get("isTransformFunction")?(r||(r=[]),r.push(e.get("prop")+"("+t[i]+")")):"opacity"==e.get("prop")?n.style.opacity=t[i]:n.setAttribute(e.get("prop"),t[i])}),r&&(n.style.transform=r.join(" "))}),P=function(){var e=function(e,t){t.get("begin")&&t.get("begin")(t.get("el")),requestAnimationFrame(e)};return function(t,n){return n.get("delay")?setTimeout(function(){return e(t,n)},n.get("delay")):e(t,n)}}(),H=function(e){return F(function(){if("alternate"==e.get("direction"))return b(e);if("reverse"==e.get("direction")){var t=new Map(e);return t["delete"]("direction"),t}return e}())},B=new Map,j=function(){var e=0;return function(t){var n=e++;return B=(new Map(B)).set(n,t),n}}(),F=function(e){var t=w(e),n=S(t),r=j(t.get("el")),i=new Map;L(t),P(function s(e){if(B.has(r)){i.has("start")||i.set("start",e),i.set("elapsed",e-i.get("start")),e=i.get("elapsed")<t.get("duration");var o=n.map(e?M(t,i.get("elapsed")):_(t));B.get(r).forEach(D(n,o)),e?requestAnimationFrame(s):(e=new Map(B),e["delete"](r),B=e,t.get("complete")&&t.get("complete")(t.get("el")),t.get("loop")&&H(t))}},t)};return F.stop=function(e){var t=h(e),n=new Map(B);n.forEach(function(e,r){var i=u(e,t);i.length?n.set(r,i):n["delete"](r)}),B=n},F}();"undefined"!=typeof module&&module.exports&&(module.exports=animate);