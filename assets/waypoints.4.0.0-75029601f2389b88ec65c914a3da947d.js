(function(){"use strict";function n(r){if(!r)throw new Error("No options passed to Waypoint constructor");if(!r.element)throw new Error("No element option passed to Waypoint constructor");if(!r.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=n.Adapter.extend({},n.defaults,r),this.element=this.options.element,this.adapter=new n.Adapter(this.element),this.callback=r.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=n.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=n.Context.findOrCreateByElement(this.options.context),n.offsetAliases[this.options.offset]&&(this.options.offset=n.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),t[this.key]=this,e+=1}var e=0,t={};n.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},n.prototype.trigger=function(e){if(!this.enabled)return;this.callback&&this.callback.apply(this,e)},n.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete t[this.key]},n.prototype.disable=function(){return this.enabled=!1,this},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},n.prototype.next=function(){return this.group.next(this)},n.prototype.previous=function(){return this.group.previous(this)},n.invokeAll=function(e){var n=[];for(var r in t)n.push(t[r]);for(var i=0,s=n.length;i<s;i++)n[i][e]()},n.destroyAll=function(){n.invokeAll("destroy")},n.disableAll=function(){n.invokeAll("disable")},n.enableAll=function(){n.invokeAll("enable")},n.refreshAll=function(){n.Context.refreshAll()},n.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},n.viewportWidth=function(){return document.documentElement.clientWidth},n.adapters=[],n.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},n.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=n})(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function s(e){this.element=e,this.Adapter=r.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+t,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,t+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var t=0,n={},r=window.Waypoint,i=window.onload;s.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},s.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete n[this.key])},s.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,r.requestAnimationFrame(t))})},s.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){if(!e.didScroll||r.isTouch)e.didScroll=!0,r.requestAnimationFrame(t)})},s.prototype.handleResize=function(){r.Context.refreshAll()},s.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in t){var r=t[n],i=r.newScroll>r.oldScroll,s=i?r.forward:r.backward;for(var o in this.waypoints[n]){var u=this.waypoints[n][o],a=r.oldScroll<u.triggerPoint,f=r.newScroll>=u.triggerPoint,l=a&&f,c=!a&&!f;if(l||c)u.queueTrigger(s),e[u.group.id]=u.group}}for(var h in e)e[h].flushTriggers();this.oldScroll={y:t.vertical.newScroll}},s.prototype.innerHeight=function(){return this.element==this.element.window?r.viewportHeight():this.adapter.innerHeight()},s.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},s.prototype.innerWidth=function(){return this.element==this.element.window?r.viewportWidth():this.adapter.innerWidth()},s.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var n in this.waypoints[t])e.push(this.waypoints[t][n]);for(var r=0,i=e.length;r<i;r++)e[r].destroy()},s.prototype.refresh=function(){var e=this.element==this.element.window,t=e?undefined:this.adapter.offset(),n={},i;this.handleScroll(),i={horizontal:{contextOffset:e?0:t.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:t.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var s in i){var o=i[s];for(var u in this.waypoints[s]){var a=this.waypoints[s][u],f=a.options.offset,l=a.triggerPoint,c=0,h=l==null,p,d,v,m,g;a.element!==a.element.window&&(c=a.adapter.offset()[o.offsetProp]),typeof f=="function"?f=f.apply(a):typeof f=="string"&&(f=parseFloat(f),a.options.offset.indexOf("%")>-1&&(f=Math.ceil(o.contextDimension*f/100))),p=o.contextScroll-o.contextOffset,a.triggerPoint=c+p-f,d=l<o.oldScroll,v=a.triggerPoint>=o.oldScroll,m=d&&v,g=!d&&!v,!h&&m?(a.queueTrigger(o.backward),n[a.group.id]=a.group):!h&&g?(a.queueTrigger(o.forward),n[a.group.id]=a.group):h&&o.oldScroll>=a.triggerPoint&&(a.queueTrigger(o.forward),n[a.group.id]=a.group)}}return r.requestAnimationFrame(function(){for(var e in n)n[e].flushTriggers()}),this},s.findOrCreateByElement=function(e){return s.findByElement(e)||new s(e)},s.refreshAll=function(){for(var e in n)n[e].refresh()},s.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){i&&i(),s.refreshAll()},r.requestAnimationFrame=function(t){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e;n.call(window,t)},r.Context=s}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function i(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},r=window.Waypoint;i.prototype.add=function(e){this.waypoints.push(e)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var r=this.triggerQueues[n],i=n==="up"||n==="left";r.sort(i?t:e);for(var s=0,o=r.length;s<o;s+=1){var u=r[s];(u.options.continuous||s===r.length-1)&&u.trigger([n])}}this.clearTriggerQueues()},i.prototype.next=function(t){this.waypoints.sort(e);var n=r.Adapter.inArray(t,this.waypoints),i=n===this.waypoints.length-1;return i?null:this.waypoints[n+1]},i.prototype.previous=function(t){this.waypoints.sort(e);var n=r.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},i.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},i.prototype.remove=function(e){var t=r.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(e){return n[e.axis][e.name]||new i(e)},r.Group=i}(),function(){"use strict";function t(e){return e===e.window}function n(e){return t(e)?e:e.defaultView}function r(e){this.element=e,this.handlers={}}var e=window.Waypoint;r.prototype.innerHeight=function(){var e=t(this.element);return e?this.element.innerHeight:this.element.clientHeight},r.prototype.innerWidth=function(){var e=t(this.element);return e?this.element.innerWidth:this.element.clientWidth},r.prototype.off=function(e,t){function n(e,t,n){for(var r=0,i=t.length-1;r<i;r++){var s=t[r];(!n||n===s)&&e.removeEventListener(s)}}var r=e.split("."),i=r[0],s=r[1],o=this.element;if(s&&this.handlers[s]&&i)n(o,this.handlers[s][i],t),this.handlers[s][i]=[];else if(i)for(var u in this.handlers)n(o,this.handlers[u][i]||[],t),this.handlers[u][i]=[];else if(s&&this.handlers[s]){for(var a in this.handlers[s])n(o,this.handlers[s][a],t);this.handlers[s]={}}},r.prototype.offset=function(){if(!this.element.ownerDocument)return null;var e=this.element.ownerDocument.documentElement,t=n(this.element.ownerDocument),r={top:0,left:0};return this.element.getBoundingClientRect&&(r=this.element.getBoundingClientRect()),{top:r.top+t.pageYOffset-e.clientTop,left:r.left+t.pageXOffset-e.clientLeft}},r.prototype.on=function(e,t){var n=e.split("."),r=n[0],i=n[1]||"__default",s=this.handlers[i]=this.handlers[i]||{},o=s[r]=s[r]||[];o.push(t),this.element.addEventListener(r,t)},r.prototype.outerHeight=function(e){var n=this.innerHeight(),r;return e&&!t(this.element)&&(r=window.getComputedStyle(this.element),n+=parseInt(r.marginTop,10),n+=parseInt(r.marginBottom,10)),n},r.prototype.outerWidth=function(e){var n=this.innerWidth(),r;return e&&!t(this.element)&&(r=window.getComputedStyle(this.element),n+=parseInt(r.marginLeft,10),n+=parseInt(r.marginRight,10)),n},r.prototype.scrollLeft=function(){var e=n(this.element);return e?e.pageXOffset:this.element.scrollLeft},r.prototype.scrollTop=function(){var e=n(this.element);return e?e.pageYOffset:this.element.scrollTop},r.extend=function(){function t(e,t){if(typeof e=="object"&&typeof t=="object")for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var e=Array.prototype.slice.call(arguments);for(var n=1,r=e.length;n<r;n++)t(e[0],e[n]);return e[0]},r.inArray=function(e,t,n){return t==null?-1:t.indexOf(e,n)},r.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.adapters.push({name:"noframework",Adapter:r}),e.Adapter=r}();